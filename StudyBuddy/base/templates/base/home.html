{% extends 'main.html' %}
{% block content %}

<style>
    .home-container {
        display: grid;
        grid-template-columns: 1fr 3fr 1fr;

    }

    .room-info {
        margin-top: 20px;
    }

    .recent-activities {
        margin-top: 20px;
    }

    .recent-activities h3 {
        margin-bottom: 10px;
    }

    .recent-activities p {
        margin: 5px 0;
    }

    .room-container {
        display: grid;
        grid-template-columns: 3fr 1fr;
        gap: 20px;
    }

    .comments-wrapper {
        margin-top: 20px;
    }

    .comment {
        background-color: #f9f9f9;
        padding: 10px;
        border-radius: 5px;
    }

    .participants {
        margin-top: 20px;
    }

    .participants h3 {
        margin-bottom: 10px;
    }

    .participants div {
        margin: 5px 0;
    }

    .comment-form {
        margin-top: 20px;
    }

    .comment-form h3 {
        margin-bottom: 10px;
    }

    .comment-form form {
        display: flex;
        flex-direction: column;
    }

    .comment-form textarea {
        margin-bottom: 10px;
        padding: 10px;
        border-radius: 5px;
        border: 1px solid #ccc;
    }

    .comment-form button {
        padding: 10px;
        border-radius: 5px;
        border: none;
        background-color: #007bff;
        color: white;
        cursor: pointer;
    }

    .comment-form button:hover {
        background-color: #0056b3;
    }

    .comment-form small {
        color: #888;
    }

    .comment-form hr {
        margin: 20px 0;
    }

    .room-info a {
        display: inline-block;
        margin-top: 10px;
        padding: 10px;
        background-color: #007bff;
        color: white;
        text-decoration: none;
        border-radius: 5px;
    }

    .room-info a:hover {
        background-color: #0056b3;
    }

    .room-info h5 {
        margin-bottom: 10px;
    }

    .room-info div {
        margin-bottom: 20px;
    }

    .room-info span {
        font-weight: bold;
    }

    .room-info hr {
        margin: 10px 0;
    }

    .home-container div {
        padding: 20px;
        background-color: #f1f2f5;
        border-radius: 5px;
    }

    .home-container h3 {
        margin-bottom: 10px;
    }

    .home-container a {
        display: inline-block;
        margin-top: 10px;
        padding: 10px;
        background-color: #000407;
        color: white;
        text-decoration: none;
        border-radius: 5px;
    }

    .home-container a:hover {
        background-color: #0056b3;
    }

    .home-container hr {
        margin: 20px 0;
    }

    .home-container p {
        margin: 5px 0;
    }

    .home-container small {
        color: #888;
    }

    .home-container div {
        margin-bottom: 20px;
    }

    .home-container div a {
        color: #007bff;
        text-decoration: none;
    }

    .home-container div a:hover {
        text-decoration: underline;
    }

    .home-container .room-info {
        margin-top: 20px;
    }

    .home-container .recent-activities {
        margin-top: 20px;
    }

    .home-container .recent-activities hr {
        margin: 10px 0;
    }

    .home-container .recent-activities p {
        margin: 5px 0;
    }

    .home-container .recent-activities small {
        color: #888;
    }

    .home-container .recent-activities div {
        margin-bottom: 20px;
    }

    .home-container .recent-activities div p {
        margin: 5px 0;
    }

    .home-container .recent-activities div small {
        color: #888;
    }

    .home-container .recent-activities div hr {
        margin: 10px 0;
    }

    .home-container .room-info h5 {
        margin-bottom: 10px;
    }

    .home-container .room-info a {
        display: inline-block;
        margin-top: 10px;
        padding: 10px;
        background-color: #2e353d;
        color: rgb(154, 143, 167);
        text-decoration: none;
        border-radius: 5px;
    }

    .home-container .room-info a:hover {
        background-color: #0056b3;
    }

    .home-container .room-info span {
        font-weight: bold;
    }

    .home-container .room-info hr {
        margin: 10px 0;
    }

    .home-container .room-info div {
        margin-bottom: 20px;
    }

    .home-container .room-info div a {
        color: #0c1724;
        text-decoration: none;
    }

    .home-container .room-info div a:hover {
        text-decoration: underline;
    }

    .home-container .room-info div span {
        font-weight: bold;
    }

    .home-container .room-info div hr {
        margin: 10px 0;
    }

    .home-container .room-info div h5 {
        margin-bottom: 10px;
    }

    .home-container .room-info div small {
        color: #888;
    }

    .home-container .room-info div p {
        margin: 5px 0;
    }

    .home-container .room-info div p small {
        color: #888;
    }

    .home-container .room-info div p a {
        color: #192430;
        text-decoration: none;
    }

    .home-container .room-info div p a:hover {
        text-decoration: underline;
    }

    .home-container .room-info div p small {
        color: #888;
    }

    .home-container .room-info div p small a {
        color: #007bff;
        text-decoration: none;
    }

    .home-container .room-info div p small a:hover {
        text-decoration: underline;
    }

    .home-container .room-info div p small span {
        font-weight: bold;
    }

    .home-container .room-info div p small span a {
        color: #0e1e2e;
        text-decoration: none;
    }

    .home-container .room-info div p small span a:hover {
        text-decoration: underline;
    }

    .home-container .room-info div p small span {
        font-weight: bold;
    }

    .home-container .room-info div p small span a {
        color: #007bff;
        text-decoration: none;
    }

    .home-container .room-info div p small span a:hover {
        text-decoration: underline;
    }

    .home-container .room-info div p small span {
        font-weight: bold;
    }

    .home-container .room-info div p small span a {
        color: #007bff;
        text-decoration: none;
    }
</style>

<div class="home-container">

    <div>
        <h3>Browse Topics</h3>
        <hr>

        <div>

            <a href="{% url 'home'%}"> All</a>

        </div>
        {% for topic in topics %}
        <div>

            <a href="{% url 'home'%}?q={{topic.name}}"> {{topic.name}}</a>

        </div>
        {% endfor %}
    </div>


    <div class="room-info">
        <h5>{{room_count}} rooms available</h5>
        <a href="{% url 'create_room' %}">Create Room </a>
        <div>
            {% for room in rooms %}
            <div>

                {% if request.user == room.host %}
                <a href="{% url 'update_room' room.id %}">Edit</a>
                <a href="{% url 'delete_room' room.id %}">Delete</a>
                {% endif%}


                <h5>{{ room.id }} â€”<a href="{% url 'room' room.id %}"> {{room.name }}</h5></a>

                <small>{{room.topic.name}}</small> <small>@{{room.host.username}}</small>
                <hr>
            </div>
            {% endfor %}
        </div>
    </div>


    <div class="recent-activities">
        <h3>Recent Activities</h3>
        <hr>
        {% for message in room_messages %}
        <div>
            <p><small>@{{ message.user.username }}</small> said:</p>
            <p>{{ message.body }}</p>
            <small>{{ message.created|timesince }} ago</small>
            <hr>
        </div>
        {% endfor %}
        {% if not room_messages %}
        <p>No recent messages to display.</p>
        {% endif %}

    </div>

</div>

{% endblock content %}